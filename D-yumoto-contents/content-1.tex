%%%%%%%%%%%%%%%%%%%%%%
\chapter{緒論}
ソフトウェア開発工程の中で，品質を確保する主要な活動として，ソフトウェアテストがある．
ソフトウェアテストでは，テスト結果の情報を分析してテスト対象となるソフトウェアの品質を可視化することができる．
品質を可視化するためには，十分なサンプルデータを得られるだけのテストケースを実行しなければならない．
ソフトウェアテストを十分に行うために求められるテストケースの数は，昨今のソフトウェアの複雑性と規模の急激な増大に伴い，増加の一途をたどっている．
ブラックボックステストの場合，ソフトウェアの規模とテストケース数の関係は，ファンクションポイント総計値の1.15乗から1.3乗となる\cite{jones1998estimating}．
開発プロジェクトのファンクションポイント総計値は1970年から2000年までの30年間で約10倍に増大している\cite{longstreet2000}．
組み込みソフトウェア開発のソフトウェア規模の増大は，ドメインによって毎年10パーセントから20パーセントに及ぶという調査結果もある \cite{jones2009}．

ソフトウェアの規模の増大に伴ったテストケース数の増加に対応するために必要となるテスト工数は，ソフトウェア開発工数の多くを占めるようになってきている．
日本におけるテスト工数の割合は開発工数全体の28パーセントから35パーセントを占めるケースが多いが，90パーセントを超えるケースもあるという調査結果が出ている\cite{IPA2015}．
昨今のソフトウェアの開発は，新規で開発するものは現象傾向にあり，システム統合，派生開発\cite{simizu2005}\cite{simizu2009}，保守開発，コンポーネントベース開発\cite{gao2003testing}といったすでに利用されているものに対して追加，改良をするものが多くを占めてきている．
日本における新規開発の比率は，エンタープライズシステム開発で51パーセント\cite{IPA2015}，組み込みソフトウェア開発で5パーセント\cite{IPAE2015}だという調査結果が出ている．
ソフトウェア保守開発においては，開発対象のソフトウェアを分析し，理解するための工数が工数全体の40パーセントから60パーセント必要となる．しかし，現実的には，十分にその工数を確保できないことが課題だといわれている\cite{abran2004guide}．

また，この種類の開発は，テスト工数の比率が大きくなることが多い．
複数のシステムを統合するといった大規模な開発にて8ヶ月の間に約5000人がテスト工程に投入されたという事例もある\cite{MTBUDay2}．
これらの調査結果から，開発全体に占めるソフトウェアテストの割合が多いほど開発コストに与える影響も大きくなると言える．
そのため，ソフトウェアテストを効率的に行うことが開発コストを左右すると考えられる．
効率のよいテストとは，テスト対象の品質を可視化するために使うリソースが少ないことである．

ソフトウェアテスト工程全体の中の活動のうち，テスト実行がソフトウェア開発のクリティカルパス上にある唯一の活動となる．
特に，開発の要件が期待通りに実現しているかを確認するシステムテストのレベルにてソフトウェアをテストする局面では，開発工程で作られるソフトウェアだけでなく，既存のソフトウェアや実行環境など，実運用で必要となるものがすべて合流する．ここでのテスト実行は，クリティカルパス上にある活動となる．
テスト実行がクリティカルパス上に滞在する期間をどの程度短くできるかが，開発コストだけでなく開発期間にも大きく影響を及ぼす．

テスト実行がクリティカルパス上に滞在する期間を短くする方法は，対象範囲を絞る\cite{rothermel2002empirical}，欠陥の修正を効率化する\cite{matsuodani2004evaluation}などがあり，多くの研究がある\cite{beer2008role}\cite{weinberg2008perfect}．
その1つとして，テスト実行の開始よりも早い段階でテストケースを作成し，テストすべき内容の全体を示すことがあげられる．
これにより，効率の良いテスト実行を計画できるためである．
テストケースを開発する活動が遅延して，テスト実行の活動を逼迫しないようにするためには，複数の人員を投入し，計画した期間内でテストケースを作る必要がある．
テストケースを開発する工数は，平均的にテスト工数全体の40パーセントだと言われている\cite{van2013tpi}．
このデータは，テストケースの開発には多くの人員が必要となることを示している．
昨今のソフトウェアの規模と複雑性の増大から，必要となるテストケース数はとても多くなり，数万から数十万となることも珍しくない．
前述した大規模なシステム統合プロジェクトの事例では，統合テストとシステムテストのテストケース合計が1,030,000ケースであったと報告されている．

多数の人員が大量のテストケースを作成する活動に必要とされているにもかかわらず，テストケースを開発するための明確に定義されたルールがないことが多い．
そのために，投入された人員は個々の考え方に基づいてテストケースを開発することになる．
この方法は，ソフトウェア保守開発の課題と同様に，それぞれのテスト対象を分析し，理解した内容に一貫性がなく，対象範囲の整理が不十分なまま大量のテストケースが作られていくことを意味している．
ソフトウェアテストを十分に行うためには，重複が無く抜け漏れの無いテストケースを開発することが重要になる．
しかし，ソフトウェア規模の増大，また短納期のプレッシャーを受けながら，上記したように大量の人員で大量のテストケースを効率的に作らなければならないことは，以下の問題を引き起こす．
\begin{enumerate}
\item テストケースが重複する．同じテストを複数人が実行することになるため作業効率が低下する．
\item テストケースが欠落する．テスト実行に入ってからテストケース追加が必要になり作業効率が低下する．
\end{enumerate}

これらの問題は，コスト増や納期遅延の原因となるだけでなく，テストの活動がソフトウェアの品質を確保する役割を果たせなくなる問題となる
\cite{bertolino2007software}
\cite{mantyla2013more}
\cite{mantyla2014time}．

また，テスト対象の規模が大きくなるほど，複数の機能を組み合わせたテストケースを実行する必要が出てくる．
機能の組み合わせを単純なルールで網羅するようにテストケースを作成すると，テストケース数が乗算で増えてしまうため，テストケースを増やさない工夫が必要となる．
そのためには，目的に沿ったテストだけを行うようにすることが重要である\cite{kaner2008lessons}．
投入された多くの人員がテストケースを増やさないように目的に沿ったテストケースだけを作るためには，目的に沿った網羅基準と適切な抽出方法が必要である．

本研究では，テストケースを開発する活動に携わる人員が，適切に対象を理解することで，必要なテストケースを網羅的に抽出し，抜け漏れを防止できるようにすることを目的とする．
テストケースを開発する対象として，システムテストレベルでのブラックボックステストに着目する．
テストレベルの中でもシステムテストは，開発の規模に伴い規模が大きくなり，それに伴いテストケースの開発にも多くの人員が投入されることになるためである．
そして，システムテストのレベルでのテスト対象への入出力データの順序情報を分析し，適切な数のテストケースを開発するための手法を提案し，手法の適用評価を行う．

本論文は6章で構成される．
2章では，システムテストのレベルでのブラックボックステストにおける課題と，関連する先行研究について述べる．
また，本研究のベースとなるテスト分析手法であるテストカテゴリベースドテストの概念，作業ステップ，そして適用時の効果を調査した実験結果を述べる．

3章では，前章で述べた課題を更に分析するためにおこなった実験の結果を述べる．
実験は3回行なった．
3回の実験から，テストケースの作成結果には，ばらつきがあること，また，手法を取り入れることによって漏れていたテストケースが抽出できるようになることを確認する．
また，実験結果から読み取れる傾向を考察する．

4章では，システムテストレベルにて，テストを実行する際の入出力データに着目する．
テスト実行はデータの入出力を行うことであり，この全体像をI/Oテストデータパターンとして定義し，このパターンを網羅することでテスト対象の分析を網羅的に行うことができる．
このI/Oテストデータパターンを適用した分析手法を提案する．
I/Oテストデータパターンの適用評価では，現実のプロジェクトで実際に使用されたテストケースと，提案する手法で作ったテストケースを比較し，現実のプロジェクトにてどのようなテストケースが不足するのかを考察する．

5章では，入出力の実施順序から重要な順序組み合わせを抽出してテストケースにする方法として，テスト実行時のデータフローに着目する．
複数の機能の統合を確認するためには，複数回のテストデータの入出力が必要となる，
統合は多くの機能を組み合わせていくため，2回以上のテストデータの入出力を組み合わせる必要も出てくる．
テストデータの入出力を順番に組み合わせる必要がある際に，単純に2回のテストデータ入出力の組み合わせ，それ以上の回数の入出力の組み合わせを洗い出してテスト実行順序を網羅しようとすると，実行順序の組み合わせ数を乗算で求めるようになるため，テストケース数が爆発する．
そこで，機能間の統合を確認するためのテストケースを抽出するために，データフローに関する設計文書をベースに順序組み合わせを抽出する方法である順序組み合わせテストとその網羅基準である波及全使用法（Impact Data All Used：IDAU）を提案する．
この適用評価では，順序組み合わせテストを使って実在の仕様書，設計書からテストケースが抽出できることの実証行う．
また，順序組み合わせのテストケースを抽出する既存の手法である状態遷移テストを比較し，テストケース抽出内容を考察する．

最後の6章では，これらの研究をまとめて，結論を述べる．
